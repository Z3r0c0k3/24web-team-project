<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // 문서 로드 후 실행
        const targetDates = {
          "D-Day-2025": new Date("2024-11-14T08:00:00").getTime(),
          "D-Day-2026": new Date("2025-11-13T08:00:00").getTime(),
          "D-Day-2027": new Date("2026-11-19T08:00:00").getTime(),
          "D-Day-3mo": new Date("2024-03-28T08:00:00").getTime(),
          "D-Day-6mo": new Date("2024-06-04T08:00:00").getTime(),
          "D-Day-9mo": new Date("2024-09-04T08:00:00").getTime(),
        };

        function updateDday(className, targetDate) {
          const ddaySpans = document.querySelectorAll(`.${className}`); // 여러 span 요소 선택

          ddaySpans.forEach((ddaySpan) => {
            const now = new Date().getTime();
            const timeDifference = targetDate - now;

            const days = Math.max(
              0,
              Math.floor(timeDifference / (1000 * 60 * 60 * 24))
            );
            const hours = Math.max(
              0,
              Math.floor(
                (timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
              )
            );
            const minutes = Math.max(
              0,
              Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60))
            );
            const seconds = Math.max(
              0,
              Math.floor((timeDifference % (1000 * 60)) / 1000)
            );
            const milliseconds = Math.max(0, timeDifference % 1000);

            const formattedDday = `${days.toString().padStart(3, "0")} : ${hours
              .toString()
              .padStart(2, "0")} : ${minutes
              .toString()
              .padStart(2, "0")} : ${seconds
              .toString()
              .padStart(2, "0")} . ${milliseconds.toString().padStart(2, "0")}`;

            ddaySpan.innerText = formattedDday;
          });
        }

        for (const className in targetDates) {
          updateDday(className, targetDates[className]);
          setInterval(() => updateDday(className, targetDates[className]), 1);
        }

        function dateTime() {
          const now = new Date();
          const year = now.getFullYear();
          const month = (now.getMonth() + 1).toString().padStart(2, "0"); // 월은 0부터 시작하므로 1을 더함
          const day = now.getDate().toString().padStart(2, "0");
          const hours = now.getHours().toString().padStart(2, "0");
          const minutes = now.getMinutes().toString().padStart(2, "0");
          const seconds = now.getSeconds().toString().padStart(2, "0");
          const ampm = hours >= 12 ? "PM" : "AM";

          const formattedDate = `${year}. ${month}. ${day}`;
          const formattedTime = `${ampm} ${
            hours % 12 === 0 ? 12 : hours % 12
          } : ${minutes} : ${seconds}`;

          document.querySelector(".date").innerText = formattedDate;
          document.querySelector(".time").innerText = formattedTime;
        }

        dateTime();
        setInterval(dateTime, 500);
      });
    </script>
    <!-- Favicon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/src/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/src/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/src/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="/src/favicon/site.webmanifest" />
    <title>D-DAY 수능</title>
  </head>
  <body>
    <nav>
      <span class="title"> D-DAY 수능 </span>
      <span class="link_home">
        <a href="index.html">메인 페이지</a>
      </span>
      <span class="link_pre-CSAT">
        <a href="pre-csat.html">모의고사 디데이</a>
      </span>
      <span class="link_API">
        <a href="api.html">API</a>
      </span>
      <span class="link_about">
        <a href="about.html">도움말</a>
      </span>
    </nav>
    <main>
      <span class="date"> 2024. 06. 18</span>
      <span class="time">AM 00 : 00 : 00 </span>
      <!-- 3mo -->
      <div class="row">
        <div class="Rectangle-1">
          <div class="row">
            <div class="Close"></div>
            <div class="Minimization"></div>
            <div class="Full-Screen"></div>
            <span class="Suneung">Sam Mo</span>
            <span class="View">View</span>
            <span class="Edit">Edit</span>
            <span class="D-DAY">D-Day</span>
          </div>
          <div class="row">
            <div class="Vector-1"></div>
          </div>
          <div class="CSAT-text">2025학년도 3월 모의고사</div>
          <span class="D-Day-3mo"> 000 : 00 : 00 : 00 . 00 </span>
        </div>
        <!-- 응원에 한마디..! -->
        <h1 class="victory_message">괜찮아요. 다 잘 될거예요.</h1>
      </div>
      <!-- 6mo -->
      <div class="row">
        <div class="Rectangle-1">
          <div class="row">
            <div class="Close"></div>
            <div class="Minimization"></div>
            <div class="Full-Screen"></div>
            <span class="Suneung">Yuk Mo</span>
            <span class="View">View</span>
            <span class="Edit">Edit</span>
            <span class="D-DAY">D-Day</span>
          </div>
          <div class="row">
            <div class="Vector-1"></div>
          </div>
          <div class="CSAT-text">2025학년도 6월 모의고사</div>
          <span class="D-Day-6mo"> 000 : 00 : 00 : 00 . 00 </span>
        </div>
        <div class="timer">
          <a href="timer.html" target="_blank"><h1>모의고사 타이머</h1></a>
        </div>
      </div>

      <!-- 9mo -->
      <div class="Rectangle-1">
        <div class="row">
          <div class="Close"></div>
          <div class="Minimization"></div>
          <div class="Full-Screen"></div>
          <span class="Suneung">Gu Mo</span>
          <span class="View">View</span>
          <span class="Edit">Edit</span>
          <span class="D-DAY">D-Day</span>
        </div>
        <div class="row">
          <div class="Vector-1"></div>
        </div>
        <div class="CSAT-text">2025학년도 9월 모의고사</div>
        <span class="D-Day-9mo"> 000 : 00 : 00 : 00 . 00 </span>
      </div>
    </main>
  </body>
</html>
